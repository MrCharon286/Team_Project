<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<title>Insert title here</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<!-- 각종 css, js를 읽어오는 js : jQuery를 이용해서 -->
<script src="/script/main.js"></script>
<!-- 아래줄을 main.js에 옮기면 자바스크립트는 sec:authorize가 뭔지 모르기때문에 무시. 무조건 실행 -->
<script sec:authorize="isAuthenticated()" src="/script/websocket.js"></script>

<script th:inline="javascript">
	const msg = [[${msg}]]
	$(document).ready(()=>{
		if(msg!=null) {
			$("#msg").css("display","block");
			$("#msg_span").text(msg);
		}
	});
</script>
</head>
<body>
<div id="page">
	<header id="header" th:replace="/fragments/header">
	</header>
	<nav id="nav" th:replace="/fragments/nav">
	</nav>
	<div id="main">
		<aside th:replace="/fragments/aside">
		</aside>
		<section id="section">
			<div class="alert alert-danger" style="display:none;" id="msg">
  				<strong>작업 실패 </strong> <span id="msg_span"></span>
			</div>
			<h1>로그인 해주세요</h1>
		</section>
	</div>
	<footer id="footer" th:replace="/fragments/footer">
	</footer>
</div>
</body>
</html>