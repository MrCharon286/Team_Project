<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<title>상품 주문</title>
<meta name="viewport" content="width=device-width, initial-scale=1"> 
<meta name="_csrf" th:content="${_csrf.token}"/>
<meta name="_csrf_header" th:content="${_csrf.headerName}"/>
<link rel="stylesheet" href="/css/main.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="/script/main.js"></script>
<script>
$(function() {
	// 1. 제품번호로 제품 정보 읽어와 저장
	const pno = location.search.substr(5);
	$.ajax("/admin/products/" + pno).done(product=> { 
		console.log(product);
	});
	
});
</script>
</head>
<body>
	<div id="page">
		<header id="header" th:replace="/fragments/header">
		</header>
		<nav id="nav" th:replace="/fragments/nav">
		</nav>
		<div id="main">
			<aside th:replace="/fragments/aside">
			</aside>
			<section id="section">
				<div id="left">
					<img id="image" style="width:100%">
				</div>
				<div id="right">
					<div id="manufacturer"></div>
					<div id="name"></div>
					<div id="price"><span></span>원</div>
					<!-- 옵션이 없는 경우 바로 개수 선택 div -->
					<hr>
					<div style="display:none;" id="product_div">
						<div class='count_area' id='minus'>-</div>
						<div class='count_area' id='count'>1</div>
						<div class='count_area' id='plus'>+</div>
					</div>
					
					<!-- 옵션이 있는 경우 화면 -->
					<div style="display:none;" id="option_div">
						<select id="options_select" class="form-control">
						</select>
					</div>
					<hr>
					
					<div id="selected_options_div">
					</div>
						
					<div id="price_div" style="overflow:hidden;">
						<span style="font-weight:bold; font-size:1.25em;">총 금액</span>
						<div style="float:right;">
							<span style="color:#999">총 수량<span id="total_count"></span>개</span>
							<span><span id="total_price"></span>원</span>
						</div>
					</div>
					<hr>
					<div>
						<button id="order">구매하기</button>
						<button id="cart">장바구니</button>
					</div>
				</div>
			</section>
		</div>
		<footer id="footer" th:replace="/fragments/footer">
		</footer>
	</div>
</body>
</html>